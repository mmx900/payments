{"openapi":"3.0.1","servers":[{"url":"https://github.com/samchon/nestia","description":"insert your server url"}],"info":{"version":"6.0.1","title":"@samchon/payment-backend","description":"Payment Backend Server","license":{"name":"MIT"}},"paths":{"/monitors/health":{"get":{"tags":[],"parameters":[],"responses":{"200":{"description":""}}}},"/monitors/performance":{"get":{"tags":[],"parameters":[],"responses":{"200":{"description":"## Warning\n\nResponse data have been encrypted.\n\nThe response body data would be encrypted as \"AES-128(256) / CBC mode / PKCS#5 Padding / Base64 Encoding\", through the [EncryptedRoute.G.et](https://github.com/samchon/@nestia/core#encryptedroute) component.\n\nTherefore, just utilize this swagger editor only for referencing. If you need to call the real API, using [SDK](https://github.com/samchon/nestia#software-development-kit) would be much better.","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/IPerformance"}}},"x-nestia-encrypted":true}}}},"/monitors/system":{"get":{"tags":[],"parameters":[],"responses":{"200":{"description":"## Warning\n\nResponse data have been encrypted.\n\nThe response body data would be encrypted as \"AES-128(256) / CBC mode / PKCS#5 Padding / Base64 Encoding\", through the [EncryptedRoute.G.et](https://github.com/samchon/@nestia/core#encryptedroute) component.\n\nTherefore, just utilize this swagger editor only for referencing. If you need to call the real API, using [SDK](https://github.com/samchon/nestia#software-development-kit) would be much better.","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ISystem"}}},"x-nestia-encrypted":true}}}},"/payments/histories/get":{"patch":{"tags":[],"parameters":[],"requestBody":{"description":"## Warning\n\nRequest body must be encrypted.\n\nThe request body data would be encrypted as \"AES-128(256) / CBC mode / PKCS#5 Padding / Base64 Encoding\", through the [EncryptedBody](https://github.com/samchon/@nestia/core#encryptedbody) component.\n\nTherefore, just utilize this swagger editor only for referencing. If you need to call the real API, using [SDK](https://github.com/samchon/nestia#software-development-kit) would be much better.\n\n----------------\n\n결제 내역의 원천 정보 + 비밀번호","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/IPaymentSource.IAccessor"}}},"required":true,"x-nestia-encrypted":true},"responses":{"201":{"description":"## Warning\n\nResponse data have been encrypted.\n\nThe response body data would be encrypted as \"AES-128(256) / CBC mode / PKCS#5 Padding / Base64 Encoding\", through the [EncryptedRoute.P.atch](https://github.com/samchon/@nestia/core#encryptedroute) component.\n\nTherefore, just utilize this swagger editor only for referencing. If you need to call the real API, using [SDK](https://github.com/samchon/nestia#software-development-kit) would be much better.\n\n----------------\n\n결제 내역","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/IPaymentHistory"}}},"x-nestia-encrypted":true}},"summary":"결제 내역 상세 조회하기","description":"결제 내역 상세 조회하기."}},"/payments/histories/{id}":{"patch":{"tags":[],"parameters":[{"name":"id","in":"path","schema":{"type":"string","format":"uuid"},"description":"Primary Key","required":true}],"requestBody":{"description":"## Warning\n\nRequest body must be encrypted.\n\nThe request body data would be encrypted as \"AES-128(256) / CBC mode / PKCS#5 Padding / Base64 Encoding\", through the [EncryptedBody](https://github.com/samchon/@nestia/core#encryptedbody) component.\n\nTherefore, just utilize this swagger editor only for referencing. If you need to call the real API, using [SDK](https://github.com/samchon/nestia#software-development-kit) would be much better.\n\n----------------\n\n결제 내역의 비밀번호","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/IPaymentSource.IPassword"}}},"required":true,"x-nestia-encrypted":true},"responses":{"201":{"description":"## Warning\n\nResponse data have been encrypted.\n\nThe response body data would be encrypted as \"AES-128(256) / CBC mode / PKCS#5 Padding / Base64 Encoding\", through the [EncryptedRoute.P.atch](https://github.com/samchon/@nestia/core#encryptedroute) component.\n\nTherefore, just utilize this swagger editor only for referencing. If you need to call the real API, using [SDK](https://github.com/samchon/nestia#software-development-kit) would be much better.\n\n----------------\n\n결제 내역","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/IPaymentHistory"}}},"x-nestia-encrypted":true}},"summary":"결제 내역 상세 조회하기","description":"결제 내역 상세 조회하기."}},"/payments/histories":{"post":{"tags":[],"parameters":[],"requestBody":{"description":"## Warning\n\nRequest body must be encrypted.\n\nThe request body data would be encrypted as \"AES-128(256) / CBC mode / PKCS#5 Padding / Base64 Encoding\", through the [EncryptedBody](https://github.com/samchon/@nestia/core#encryptedbody) component.\n\nTherefore, just utilize this swagger editor only for referencing. If you need to call the real API, using [SDK](https://github.com/samchon/nestia#software-development-kit) would be much better.\n\n----------------\n\n결제 내역 입력 정보","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/IPaymentHistory.ICreate"}}},"required":true,"x-nestia-encrypted":true},"responses":{"201":{"description":"## Warning\n\nResponse data have been encrypted.\n\nThe response body data would be encrypted as \"AES-128(256) / CBC mode / PKCS#5 Padding / Base64 Encoding\", through the [EncryptedRoute.P.ost](https://github.com/samchon/@nestia/core#encryptedroute) component.\n\nTherefore, just utilize this swagger editor only for referencing. If you need to call the real API, using [SDK](https://github.com/samchon/nestia#software-development-kit) would be much better.\n\n----------------\n\n결제 내역","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/IPaymentHistory"}}},"x-nestia-encrypted":true}},"summary":"결제 내역 발행하기","description":"결제 내역 발행하기."}},"/payments/histories/cancel":{"put":{"tags":[],"parameters":[],"requestBody":{"description":"## Warning\n\nRequest body must be encrypted.\n\nThe request body data would be encrypted as \"AES-128(256) / CBC mode / PKCS#5 Padding / Base64 Encoding\", through the [EncryptedBody](https://github.com/samchon/@nestia/core#encryptedbody) component.\n\nTherefore, just utilize this swagger editor only for referencing. If you need to call the real API, using [SDK](https://github.com/samchon/nestia#software-development-kit) would be much better.\n\n----------------\n\n결제 취소 내역 입력 정보","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/IPaymentCancelHistory.ICreate"}}},"required":true,"x-nestia-encrypted":true},"responses":{"201":{"description":"## Warning\n\nResponse data have been encrypted.\n\nThe response body data would be encrypted as \"AES-128(256) / CBC mode / PKCS#5 Padding / Base64 Encoding\", through the [EncryptedRoute.P.ut](https://github.com/samchon/@nestia/core#encryptedroute) component.\n\nTherefore, just utilize this swagger editor only for referencing. If you need to call the real API, using [SDK](https://github.com/samchon/nestia#software-development-kit) would be much better.","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/IPaymentHistory"}}},"x-nestia-encrypted":true}},"summary":"결제 취소하기","description":"결제 취소하기."}},"/payments/reservations/get":{"patch":{"tags":[],"parameters":[],"requestBody":{"description":"## Warning\n\nRequest body must be encrypted.\n\nThe request body data would be encrypted as \"AES-128(256) / CBC mode / PKCS#5 Padding / Base64 Encoding\", through the [EncryptedBody](https://github.com/samchon/@nestia/core#encryptedbody) component.\n\nTherefore, just utilize this swagger editor only for referencing. If you need to call the real API, using [SDK](https://github.com/samchon/nestia#software-development-kit) would be much better.\n\n----------------\n\n간편 결제 수단의 원천 정보 + 비밀번호","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/IPaymentSource.IAccessor"}}},"required":true,"x-nestia-encrypted":true},"responses":{"201":{"description":"## Warning\n\nResponse data have been encrypted.\n\nThe response body data would be encrypted as \"AES-128(256) / CBC mode / PKCS#5 Padding / Base64 Encoding\", through the [EncryptedRoute.P.atch](https://github.com/samchon/@nestia/core#encryptedroute) component.\n\nTherefore, just utilize this swagger editor only for referencing. If you need to call the real API, using [SDK](https://github.com/samchon/nestia#software-development-kit) would be much better.\n\n----------------\n\n결제 내역","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/IPaymentReservation"}}},"x-nestia-encrypted":true}},"summary":"간편 결제 수단 조회하기","description":"간편 결제 수단 조회하기."}},"/payments/reservations/{id}":{"patch":{"tags":[],"parameters":[{"name":"id","in":"path","schema":{"type":"string","format":"uuid"},"description":"Primary Key","required":true}],"requestBody":{"description":"## Warning\n\nRequest body must be encrypted.\n\nThe request body data would be encrypted as \"AES-128(256) / CBC mode / PKCS#5 Padding / Base64 Encoding\", through the [EncryptedBody](https://github.com/samchon/@nestia/core#encryptedbody) component.\n\nTherefore, just utilize this swagger editor only for referencing. If you need to call the real API, using [SDK](https://github.com/samchon/nestia#software-development-kit) would be much better.\n\n----------------\n\n비밀번호","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/IPaymentSource.IPassword"}}},"required":true,"x-nestia-encrypted":true},"responses":{"201":{"description":"## Warning\n\nResponse data have been encrypted.\n\nThe response body data would be encrypted as \"AES-128(256) / CBC mode / PKCS#5 Padding / Base64 Encoding\", through the [EncryptedRoute.P.atch](https://github.com/samchon/@nestia/core#encryptedroute) component.\n\nTherefore, just utilize this swagger editor only for referencing. If you need to call the real API, using [SDK](https://github.com/samchon/nestia#software-development-kit) would be much better.\n\n----------------\n\n간편 결제 수단 정보","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/IPaymentReservation"}}},"x-nestia-encrypted":true}},"summary":"간편 결제 수단 조회하기","description":"간편 결제 수단 조회하기."}},"/payments/reservations":{"post":{"tags":[],"parameters":[],"requestBody":{"description":"## Warning\n\nRequest body must be encrypted.\n\nThe request body data would be encrypted as \"AES-128(256) / CBC mode / PKCS#5 Padding / Base64 Encoding\", through the [EncryptedBody](https://github.com/samchon/@nestia/core#encryptedbody) component.\n\nTherefore, just utilize this swagger editor only for referencing. If you need to call the real API, using [SDK](https://github.com/samchon/nestia#software-development-kit) would be much better.\n\n----------------\n\n간편 결제 수단 입력 정보","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/IPaymentReservation.ICreate"}}},"required":true,"x-nestia-encrypted":true},"responses":{"201":{"description":"## Warning\n\nResponse data have been encrypted.\n\nThe response body data would be encrypted as \"AES-128(256) / CBC mode / PKCS#5 Padding / Base64 Encoding\", through the [EncryptedRoute.P.ost](https://github.com/samchon/@nestia/core#encryptedroute) component.\n\nTherefore, just utilize this swagger editor only for referencing. If you need to call the real API, using [SDK](https://github.com/samchon/nestia#software-development-kit) would be much better.\n\n----------------\n\n간편 결제 수단 정보","content":{"text/plain":{"schema":{"$ref":"#/components/schemas/IPaymentReservation"}}},"x-nestia-encrypted":true}},"summary":"간편 결제 수단 등록하기","description":"간편 결제 수단 등록하기."}},"/payments/webhooks/iamport":{"post":{"tags":[],"parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IIamportPayment.IWebhook"}}},"required":true},"responses":{"201":{"description":""}}}}},"components":{"schemas":{"IPerformance":{"type":"object","properties":{"cpu":{"$ref":"#/components/schemas/process.global.NodeJS.CpuUsage"},"memory":{"$ref":"#/components/schemas/process.global.NodeJS.MemoryUsage"},"resource":{"$ref":"#/components/schemas/process.global.NodeJS.ResourceUsage"}},"nullable":false,"required":["cpu","memory","resource"]},"process.global.NodeJS.CpuUsage":{"type":"object","properties":{"user":{"type":"number"},"system":{"type":"number"}},"nullable":false,"required":["user","system"]},"process.global.NodeJS.MemoryUsage":{"type":"object","properties":{"rss":{"type":"number"},"heapTotal":{"type":"number"},"heapUsed":{"type":"number"},"external":{"type":"number"},"arrayBuffers":{"type":"number"}},"nullable":false,"required":["rss","heapTotal","heapUsed","external","arrayBuffers"]},"process.global.NodeJS.ResourceUsage":{"type":"object","properties":{"fsRead":{"type":"number"},"fsWrite":{"type":"number"},"involuntaryContextSwitches":{"type":"number"},"ipcReceived":{"type":"number"},"ipcSent":{"type":"number"},"majorPageFault":{"type":"number"},"maxRSS":{"type":"number"},"minorPageFault":{"type":"number"},"sharedMemorySize":{"type":"number"},"signalsCount":{"type":"number"},"swappedOut":{"type":"number"},"systemCPUTime":{"type":"number"},"unsharedDataSize":{"type":"number"},"unsharedStackSize":{"type":"number"},"userCPUTime":{"type":"number"},"voluntaryContextSwitches":{"type":"number"}},"nullable":false,"required":["fsRead","fsWrite","involuntaryContextSwitches","ipcReceived","ipcSent","majorPageFault","maxRSS","minorPageFault","sharedMemorySize","signalsCount","swappedOut","systemCPUTime","unsharedDataSize","unsharedStackSize","userCPUTime","voluntaryContextSwitches"]},"ISystem":{"type":"object","properties":{"uid":{"type":"string","description":"Random Unique ID."},"arguments":{"type":"array","items":{"type":"string"},"description":"`process.argv`"},"commit":{"$ref":"#/components/schemas/ISystem.ICommit","description":"Git commit information."},"package":{"$ref":"#/components/schemas/ISystem.IPackage","description":"`package.json`"},"created_at":{"type":"string","description":"Creation time of this system."}},"nullable":false,"required":["uid","arguments","commit","package","created_at"]},"ISystem.ICommit":{"type":"object","properties":{"shortHash":{"type":"string"},"branch":{"type":"string"},"hash":{"type":"string"},"subject":{"type":"string"},"sanitizedSubject":{"type":"string"},"body":{"type":"string"},"author":{"$ref":"#/components/schemas/ISystem.ICommit.IUser"},"committer":{"$ref":"#/components/schemas/ISystem.ICommit.IUser"},"authored_at":{"type":"string"},"commited_at":{"type":"string"},"notes":{"type":"string"},"tags":{"type":"array","items":{"type":"string"}}},"nullable":false,"required":["shortHash","branch","hash","subject","sanitizedSubject","body","author","committer","authored_at","commited_at","tags"],"description":"Git commit information."},"ISystem.ICommit.IUser":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"}},"nullable":false,"required":["name","email"],"description":"Git user information."},"ISystem.IPackage":{"type":"object","properties":{"name":{"type":"string"},"version":{"type":"string"},"description":{"type":"string"},"scripts":{"$ref":"#/components/schemas/Recordstringstring"},"repository":{"type":"object","properties":{"type":{"type":"string","enum":["git"]},"url":{"type":"string"}},"nullable":false,"required":["type","url"]},"author":{"type":"string"},"license":{"type":"string"},"bugs":{"type":"object","properties":{"url":{"type":"string"}},"nullable":false,"required":["url"]},"homepage":{"type":"string"},"devDependencies":{"$ref":"#/components/schemas/Recordstringstring"},"dependencies":{"$ref":"#/components/schemas/Recordstringstring"},"publishConfig":{"type":"object","properties":{"registry":{"type":"string"}},"nullable":false,"required":["registry"]},"main":{"type":"string"},"typings":{"type":"string"},"files":{"type":"array","items":{"type":"string"}}},"nullable":false,"required":["name","version","description","scripts","repository","author","license","bugs","homepage","devDependencies","dependencies"],"description":"NPM package information."},"Recordstringstring":{"type":"object","properties":{},"nullable":false,"description":"Construct a type with a set of properties K of type T"},"IPaymentSource.IAccessor":{"type":"object","properties":{"schema":{"type":"string","description":"DB 스키마 이름"},"table":{"type":"string","description":"DB 테이블 명"},"id":{"type":"string","format":"uuid","description":"참조 레코드의 PK"},"password":{"type":"string","description":"레코드 조회를 위한 비밀번호 입력."}},"nullable":false,"required":["schema","table","id","password"],"description":"접근자 정보.\n\n`IPaymentSource.IAccessor` 는 {@link IPaymentHistory 결제 내역} 내지\n{@link IPaymentReservation 간편 결제 수단 정보}를 조회할 때, 그것의 고유 식별자\nID 가 아닌 원천 레코드 식별자 정보 {@link IPaymentSource } 를 통하여 조회할 때\n사용하는 접근자 정보이다.\n\n다만 `payments-server` 의 모든 개별 레코드는 이를 조회할 시 비밀번호가 필요하기에,\n{@link IPaymentSource } 의 속성들에 비밀번호가 하나 더 추가되었을 뿐이다."},"IPaymentHistory":{"oneOf":[{"$ref":"#/components/schemas/IPaymentHistory.IamportType"},{"$ref":"#/components/schemas/IPaymentHistory.TossType"}],"description":"결제 내역.\n\n`IPaymentHistory` 는 결제 내역을 형상화한 자료구조이자 유니언 타입의 인터페이이다.\n서비스 시스템으로부 결제 사건의 귀속 정보 ({@link IPaymentHistory.ICreate.vendor } +\n{@link IPaymentHistory.ICreate.source }) 를 전달받아, 본 Payment 시스템이 PG 사에\n추가 정보를 취득하여 레코드가 완성된다.\n\n그리고 만일 현 결제 건이 가상계좌와 같이 레코드 생성 시점에 지불이 이루어지지 않은\n경우라면, 사후 {@link IPaymentWebhook 웹훅 이벤트}를 통하여 지불 완료 시각을 뜻하는\n{@link paid_at } 가 설정될 수 있다. 그리고 반대로 이미 결제가 완료된 경우라도,\n환불 등의 이유로 인하여 {@link cancelled_at } 이 사후 기재될 수 있다.\n\n참고로 `if condition` 을 통하여 {@link IPaymentHistory.vendor_code } 값을 특정하면,\n파생 타입이 자동으로 다운 캐스팅 된다.\n\n```typescript\nif (history.vendor_code === \"toss.payments\")\n    history.data.paymentKey; // history.data be ITossPayment\n```"},"IPaymentHistory.IamportType":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"Primary Key."},"vendor_code":{"type":"string","enum":["iamport"],"description":"벤더사 식별자 코드.\n\n{@link IPaymentVendor.code }와 완전히 동일한 값이되, 단지 union type\nspecialization 을 위해 중복 표기하였을 뿐이다. `if condition` 을 통하여\n{@link IPaymentHistory.data }의 타입을 특정할 수 있다."},"vendor":{"$ref":"#/components/schemas/IPaymentVendoriamport","description":"벤더 정보."},"source":{"$ref":"#/components/schemas/IPaymentSource","description":"원천 래코드 정보."},"data":{"$ref":"#/components/schemas/IIamportPayment","description":"결제 상세 데이터, 벤더별로 데이터 양식이 다르니 주의할 것."},"currency":{"type":"string","description":"통화 단위\n\nKRW, USB, JPY 등."},"price":{"type":"number","minimum":0,"description":"결제 가격."},"refund":{"type":"number","minimum":0,"nullable":true,"description":"결제 취소시의 환불 금액."},"webhook_url":{"type":"string","format":"url","nullable":true,"description":"결제 정보가 갱신되었을 때, 이를 수신할 URL"},"created_at":{"type":"string","format":"date-time","description":"결제 레코드 생성 일시."},"paid_at":{"type":"string","format":"date-time","nullable":true,"description":"결제 완료 일시."},"cancelled_at":{"type":"string","format":"date-time","nullable":true,"description":"결제 취소 일시."},"cancels":{"type":"array","items":{"$ref":"#/components/schemas/IPaymentCancelHistory"},"description":"결제 취소 내역 리스트."}},"nullable":false,"required":["id","vendor_code","vendor","source","data","currency","price","refund","webhook_url","created_at","paid_at","cancelled_at","cancels"],"description":"아임포트로부터의 결제 내역."},"IPaymentVendoriamport":{"type":"object","properties":{"code":{"type":"string","enum":["iamport"],"description":"벤더사 식별자 코드.\n\n아임포트의 경우에는 `iamport` 를, 토스의 경우에는 `toss.payments` 를 적어주면 된다."},"store_id":{"type":"string","description":"벤더사에 등록한 스토어 ID.\n\n결제 PG 사들은 서비스 주소가 다르거나, 또는 동일한 서비스이되 연결되는 백엔드 서버\n주소가 다르거든, 각기 다른 스토어 계정을 신청해 사용하라고 한다. 이는 요즘같이 MSA\n(Micro Service Architecture) 가 대세인 시대에 매우 불합리한 방식이기는 하지만, 어쨋든\n이러한 이유로 인하여, 한 회사 내지 단체가 복수의 스토어 ID 를 가지는 경우가 왕왕\n있다.\n\n때문에 `payments-server` 는, {@link IPaymentHistory 결제 내역}을 발행하거나\n{@link IPaymentReservation 간편 결제 수단}을 등록할 때 모두, 사용된 스토어의 ID\n를 반드시 기재하도록 하고 있다."},"uid":{"type":"string","description":"벤더사로부터 발급받은 식별자 번호.\n\n결제 PG 사들이 제공하는 팝업창을 이용하여 결제를 진행하거나 혹은 간편 결제 수단을\n등록하거든, 결제 PG 사들은 해당 건에 대하여 별도의 식별자 번호를 발급한다.\n`IPaymentVendor.uid` 는 이처럼 결제 PG 사들이 발급해 준 식별자 번호를 기재하는\n속성이다.\n\n단 예외가 하나 있어, 아임포트는 간편 결제 카드 등록 건에 대하여 별도의 식별자 번호를\n부여하지 않고, 귀하의 서비스에서 발급해 준 ID 를 그대로 사용한다. 때문에 아임포트를\n통한 간편 결제 카드 등록의 건만 예외적으로, `IPaymentVendor.uid` 에\n{@link IPaymentSource.id } 를 동일하게 할당해주어야 한다."}},"nullable":false,"required":["code","store_id","uid"],"description":"벤더사 정보.\n\n`IPaymentVendor` 결제 PG 벤더사에 관련된 정보를 형상화한 자료구조 인터페이스이다."},"IPaymentSource":{"type":"object","properties":{"schema":{"type":"string","description":"DB 스키마 이름"},"table":{"type":"string","description":"DB 테이블 명"},"id":{"type":"string","format":"uuid","description":"참조 레코드의 PK"}},"nullable":false,"required":["schema","table","id"],"description":"원천 레코드 참조 정보.\n\n`IPaymentSource` 는 {@link IPaymentHistory 결제 내역} 및\n{@link IPaymentResrvation 간편 결제 수단}의 원천이 되는 레코드의 참조 정보를 형상화한\n자료구조 인터페이이다. 만일 대상이 {@link IPaymentHistory 결제 내역}이라면 결제의\n근원이 되는 주문에 대한 참조 정보를, 대상이 {@link IPaymentResrvation 간편 결제 수단}\n이라면 이를 기록한 귀사 서비스의 참조 정보를 기입하면 된다."},"IIamportPayment":{"oneOf":[{"$ref":"#/components/schemas/IIamportCardPayment"},{"$ref":"#/components/schemas/IIamportTransferPayment"},{"$ref":"#/components/schemas/IIamportVBankPayment"},{"$ref":"#/components/schemas/IIamportPayment.IBasephonekpaykakaopaypaycolpayssgpaytosspayculturelandsmartculturehappymoneybooknlifepoint"}],"description":"결제 정보.\n\n`IIamportPayment` 는 아임포트의 결제 정보를 형상화한 자료구조이자 유니언 타입의\n인터페이스로써, if condition 을 통하여 method 값을 특정하면, 파생 타입이 자동으로\n지정된다.\n\n```typescript\nif (payment.pay_method === \"card\")\n   payment.card_number; // payment be IIamportCardPayment\n```"},"IIamportCardPayment":{"type":"object","properties":{"card_code":{"type":"string","description":"카드 식별자 코드."},"card_name":{"type":"string","description":"카드 이름."},"card_number":{"type":"string","pattern":"\\d{4}-\\d{4}-\\d{4}-\\d{4}","description":"카드 번호."},"card_quota":{"type":"integer","description":"할부 개월 수."},"apply_num":{"type":"string","description":"카드사 승인번호."},"pay_method":{"type":"string","enum":["card","samsung"]},"imp_uid":{"type":"string","description":"결제 정보 {@link IIamportPayment } 의 식별자 키."},"merchant_uid":{"type":"string","description":"주문 식별자 키.\n\n아임포트 서버가 아닌, 이를 사용하는 서비스가 자체적으로 발급하고 관리한다."},"name":{"type":"string","nullable":true,"description":"주문명, 누락 가능."},"amount":{"type":"number","description":"결제 총액."},"cancel_amount":{"type":"number","description":"결제 취소, 환불 총액."},"currency":{"$ref":"#/components/schemas/IIamportPayment.Currency","description":"통화 단위."},"receipt_url":{"type":"string","format":"url","description":"영수증 URL."},"cash_receipt_issue":{"type":"boolean","description":"현금 영수증 발행 여부."},"channel":{"type":"string"},"pg_provider":{"type":"string"},"emb_pg_provider":{"type":"string","nullable":true},"pg_id":{"type":"string"},"pg_tid":{"type":"string"},"escrow":{"type":"boolean"},"buyer_name":{"type":"string","nullable":true},"buyer_email":{"type":"string","format":"email","nullable":true},"buyer_tel":{"type":"string","nullable":true},"buyer_addr":{"type":"string","nullable":true},"buyer_postcode":{"type":"string","nullable":true},"customer_uid":{"type":"string","nullable":true},"customer_uid_usage":{"type":"string","nullable":true},"custom_data":{"type":"string","nullable":true},"user_agent":{"type":"string","nullable":true},"status":{"$ref":"#/components/schemas/IIamportPayment.Status","description":"결제의 현재 (진행) 상태."},"started_at":{"type":"number","description":"결제 신청 일시.\n\n리눅스 타임이 쓰임."},"paid_at":{"type":"number","description":"결제 (지불) 완료 일시.\n\n리눅스 타임이 쓰이며, `null` 대신 0 을 씀."},"failed_at":{"type":"number","description":"결제 실패 일시.\n\n리눅스 타임이 쓰이며, `null` 대신 0 을 씀."},"cancelled_at":{"type":"number","description":"결제 취소 일시.\n\n리눅스 타임이 쓰이며, `null` 대신 0 을 씀."},"fail_reason":{"type":"string","nullable":true},"cancel_reason":{"type":"string","nullable":true},"cancel_history":{"type":"array","items":{"$ref":"#/components/schemas/IIamportPaymentCancel"}}},"nullable":false,"required":["card_code","card_name","card_number","card_quota","apply_num","pay_method","imp_uid","merchant_uid","name","amount","cancel_amount","currency","receipt_url","cash_receipt_issue","channel","pg_provider","emb_pg_provider","pg_id","pg_tid","escrow","buyer_name","buyer_email","buyer_tel","buyer_addr","buyer_postcode","customer_uid","customer_uid_usage","custom_data","user_agent","status","started_at","paid_at","failed_at","cancelled_at","fail_reason","cancel_reason","cancel_history"],"description":"카드 결제 정보."},"IIamportPayment.Currency":{"type":"string","enum":["KRW","USD","EUR","JPY"]},"IIamportPayment.Status":{"type":"string","enum":["paid","ready","failed","cancelled"]},"IIamportPaymentCancel":{"type":"object","properties":{"pg_id":{"type":"string"},"pg_tid":{"type":"string"},"amount":{"type":"number"},"cancelled_at":{"type":"number"},"reason":{"type":"string"},"receipt_url":{"type":"string","format":"url"}},"nullable":false,"required":["pg_id","pg_tid","amount","cancelled_at","reason","receipt_url"],"description":"결제 취소 정보."},"IIamportTransferPayment":{"type":"object","properties":{"bank_code":{"type":"string","description":"은행 식별자 코드."},"bank_name":{"type":"string","description":"은행 이름."},"pay_method":{"type":"string","enum":["trans"]},"imp_uid":{"type":"string","description":"결제 정보 {@link IIamportPayment } 의 식별자 키."},"merchant_uid":{"type":"string","description":"주문 식별자 키.\n\n아임포트 서버가 아닌, 이를 사용하는 서비스가 자체적으로 발급하고 관리한다."},"name":{"type":"string","nullable":true,"description":"주문명, 누락 가능."},"amount":{"type":"number","description":"결제 총액."},"cancel_amount":{"type":"number","description":"결제 취소, 환불 총액."},"currency":{"$ref":"#/components/schemas/IIamportPayment.Currency","description":"통화 단위."},"receipt_url":{"type":"string","format":"url","description":"영수증 URL."},"cash_receipt_issue":{"type":"boolean","description":"현금 영수증 발행 여부."},"channel":{"type":"string"},"pg_provider":{"type":"string"},"emb_pg_provider":{"type":"string","nullable":true},"pg_id":{"type":"string"},"pg_tid":{"type":"string"},"escrow":{"type":"boolean"},"buyer_name":{"type":"string","nullable":true},"buyer_email":{"type":"string","format":"email","nullable":true},"buyer_tel":{"type":"string","nullable":true},"buyer_addr":{"type":"string","nullable":true},"buyer_postcode":{"type":"string","nullable":true},"customer_uid":{"type":"string","nullable":true},"customer_uid_usage":{"type":"string","nullable":true},"custom_data":{"type":"string","nullable":true},"user_agent":{"type":"string","nullable":true},"status":{"$ref":"#/components/schemas/IIamportPayment.Status","description":"결제의 현재 (진행) 상태."},"started_at":{"type":"number","description":"결제 신청 일시.\n\n리눅스 타임이 쓰임."},"paid_at":{"type":"number","description":"결제 (지불) 완료 일시.\n\n리눅스 타임이 쓰이며, `null` 대신 0 을 씀."},"failed_at":{"type":"number","description":"결제 실패 일시.\n\n리눅스 타임이 쓰이며, `null` 대신 0 을 씀."},"cancelled_at":{"type":"number","description":"결제 취소 일시.\n\n리눅스 타임이 쓰이며, `null` 대신 0 을 씀."},"fail_reason":{"type":"string","nullable":true},"cancel_reason":{"type":"string","nullable":true},"cancel_history":{"type":"array","items":{"$ref":"#/components/schemas/IIamportPaymentCancel"}}},"nullable":false,"required":["bank_code","bank_name","pay_method","imp_uid","merchant_uid","name","amount","cancel_amount","currency","receipt_url","cash_receipt_issue","channel","pg_provider","emb_pg_provider","pg_id","pg_tid","escrow","buyer_name","buyer_email","buyer_tel","buyer_addr","buyer_postcode","customer_uid","customer_uid_usage","custom_data","user_agent","status","started_at","paid_at","failed_at","cancelled_at","fail_reason","cancel_reason","cancel_history"],"description":"계좌 이체 결제 정보."},"IIamportVBankPayment":{"type":"object","properties":{"vbank_code":{"type":"string","description":"가상 계좌 식별자 코드."},"vbank_name":{"type":"string","description":"가상 게좌 이름"},"vbank_num":{"type":"string","description":"가상 계좌 번호"},"vbank_holder":{"type":"string","description":"가상 계좌 예금주."},"vbank_date":{"type":"number","description":"가상 계좌 입금 만료 기한."},"vbank_issued_at":{"type":"number","description":"가상 계좌 개설 일시."},"pay_method":{"type":"string","enum":["vbank"]},"imp_uid":{"type":"string","description":"결제 정보 {@link IIamportPayment } 의 식별자 키."},"merchant_uid":{"type":"string","description":"주문 식별자 키.\n\n아임포트 서버가 아닌, 이를 사용하는 서비스가 자체적으로 발급하고 관리한다."},"name":{"type":"string","nullable":true,"description":"주문명, 누락 가능."},"amount":{"type":"number","description":"결제 총액."},"cancel_amount":{"type":"number","description":"결제 취소, 환불 총액."},"currency":{"$ref":"#/components/schemas/IIamportPayment.Currency","description":"통화 단위."},"receipt_url":{"type":"string","format":"url","description":"영수증 URL."},"cash_receipt_issue":{"type":"boolean","description":"현금 영수증 발행 여부."},"channel":{"type":"string"},"pg_provider":{"type":"string"},"emb_pg_provider":{"type":"string","nullable":true},"pg_id":{"type":"string"},"pg_tid":{"type":"string"},"escrow":{"type":"boolean"},"buyer_name":{"type":"string","nullable":true},"buyer_email":{"type":"string","format":"email","nullable":true},"buyer_tel":{"type":"string","nullable":true},"buyer_addr":{"type":"string","nullable":true},"buyer_postcode":{"type":"string","nullable":true},"customer_uid":{"type":"string","nullable":true},"customer_uid_usage":{"type":"string","nullable":true},"custom_data":{"type":"string","nullable":true},"user_agent":{"type":"string","nullable":true},"status":{"$ref":"#/components/schemas/IIamportPayment.Status","description":"결제의 현재 (진행) 상태."},"started_at":{"type":"number","description":"결제 신청 일시.\n\n리눅스 타임이 쓰임."},"paid_at":{"type":"number","description":"결제 (지불) 완료 일시.\n\n리눅스 타임이 쓰이며, `null` 대신 0 을 씀."},"failed_at":{"type":"number","description":"결제 실패 일시.\n\n리눅스 타임이 쓰이며, `null` 대신 0 을 씀."},"cancelled_at":{"type":"number","description":"결제 취소 일시.\n\n리눅스 타임이 쓰이며, `null` 대신 0 을 씀."},"fail_reason":{"type":"string","nullable":true},"cancel_reason":{"type":"string","nullable":true},"cancel_history":{"type":"array","items":{"$ref":"#/components/schemas/IIamportPaymentCancel"}}},"nullable":false,"required":["vbank_code","vbank_name","vbank_num","vbank_holder","vbank_date","vbank_issued_at","pay_method","imp_uid","merchant_uid","name","amount","cancel_amount","currency","receipt_url","cash_receipt_issue","channel","pg_provider","emb_pg_provider","pg_id","pg_tid","escrow","buyer_name","buyer_email","buyer_tel","buyer_addr","buyer_postcode","customer_uid","customer_uid_usage","custom_data","user_agent","status","started_at","paid_at","failed_at","cancelled_at","fail_reason","cancel_reason","cancel_history"],"description":"가상 계좌 결제 정보."},"IIamportPayment.IBasephonekpaykakaopaypaycolpayssgpaytosspayculturelandsmartculturehappymoneybooknlifepoint":{"type":"object","properties":{"pay_method":{"type":"string","enum":["phone","kpay","kakaopay","payco","lpay","ssgpay","tosspay","cultureland","smartculture","happymoney","booknlife","point"]},"imp_uid":{"type":"string","description":"결제 정보 {@link IIamportPayment } 의 식별자 키."},"merchant_uid":{"type":"string","description":"주문 식별자 키.\n\n아임포트 서버가 아닌, 이를 사용하는 서비스가 자체적으로 발급하고 관리한다."},"name":{"type":"string","nullable":true,"description":"주문명, 누락 가능."},"amount":{"type":"number","description":"결제 총액."},"cancel_amount":{"type":"number","description":"결제 취소, 환불 총액."},"currency":{"$ref":"#/components/schemas/IIamportPayment.Currency","description":"통화 단위."},"receipt_url":{"type":"string","format":"url","description":"영수증 URL."},"cash_receipt_issue":{"type":"boolean","description":"현금 영수증 발행 여부."},"channel":{"type":"string"},"pg_provider":{"type":"string"},"emb_pg_provider":{"type":"string","nullable":true},"pg_id":{"type":"string"},"pg_tid":{"type":"string"},"escrow":{"type":"boolean"},"buyer_name":{"type":"string","nullable":true},"buyer_email":{"type":"string","format":"email","nullable":true},"buyer_tel":{"type":"string","nullable":true},"buyer_addr":{"type":"string","nullable":true},"buyer_postcode":{"type":"string","nullable":true},"customer_uid":{"type":"string","nullable":true},"customer_uid_usage":{"type":"string","nullable":true},"custom_data":{"type":"string","nullable":true},"user_agent":{"type":"string","nullable":true},"status":{"$ref":"#/components/schemas/IIamportPayment.Status","description":"결제의 현재 (진행) 상태."},"started_at":{"type":"number","description":"결제 신청 일시.\n\n리눅스 타임이 쓰임."},"paid_at":{"type":"number","description":"결제 (지불) 완료 일시.\n\n리눅스 타임이 쓰이며, `null` 대신 0 을 씀."},"failed_at":{"type":"number","description":"결제 실패 일시.\n\n리눅스 타임이 쓰이며, `null` 대신 0 을 씀."},"cancelled_at":{"type":"number","description":"결제 취소 일시.\n\n리눅스 타임이 쓰이며, `null` 대신 0 을 씀."},"fail_reason":{"type":"string","nullable":true},"cancel_reason":{"type":"string","nullable":true},"cancel_history":{"type":"array","items":{"$ref":"#/components/schemas/IIamportPaymentCancel"}}},"nullable":false,"required":["pay_method","imp_uid","merchant_uid","name","amount","cancel_amount","currency","receipt_url","cash_receipt_issue","channel","pg_provider","emb_pg_provider","pg_id","pg_tid","escrow","buyer_name","buyer_email","buyer_tel","buyer_addr","buyer_postcode","customer_uid","customer_uid_usage","custom_data","user_agent","status","started_at","paid_at","failed_at","cancelled_at","fail_reason","cancel_reason","cancel_history"],"description":"결제 기본 (공통) 정보."},"IPaymentCancelHistory":{"type":"object","properties":{"reason":{"type":"string","description":"결제 취소 사유."},"price":{"type":"number","minimum":0,"description":"환불 금액."},"created_at":{"type":"string","format":"date-time","description":"레코드 생성 일시.\n\n즉, 결제 취소가 발생한 시각."}},"nullable":false,"required":["reason","price","created_at"],"description":"결제 취소 내역."},"IPaymentHistory.TossType":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"Primary Key."},"vendor_code":{"type":"string","enum":["toss.payments"],"description":"벤더사 식별자 코드.\n\n{@link IPaymentVendor.code }와 완전히 동일한 값이되, 단지 union type\nspecialization 을 위해 중복 표기하였을 뿐이다. `if condition` 을 통하여\n{@link IPaymentHistory.data }의 타입을 특정할 수 있다."},"vendor":{"$ref":"#/components/schemas/IPaymentVendortoss.payments","description":"벤더 정보."},"source":{"$ref":"#/components/schemas/IPaymentSource","description":"원천 래코드 정보."},"data":{"$ref":"#/components/schemas/ITossPayment","description":"결제 상세 데이터, 벤더별로 데이터 양식이 다르니 주의할 것."},"currency":{"type":"string","description":"통화 단위\n\nKRW, USB, JPY 등."},"price":{"type":"number","minimum":0,"description":"결제 가격."},"refund":{"type":"number","minimum":0,"nullable":true,"description":"결제 취소시의 환불 금액."},"webhook_url":{"type":"string","format":"url","nullable":true,"description":"결제 정보가 갱신되었을 때, 이를 수신할 URL"},"created_at":{"type":"string","format":"date-time","description":"결제 레코드 생성 일시."},"paid_at":{"type":"string","format":"date-time","nullable":true,"description":"결제 완료 일시."},"cancelled_at":{"type":"string","format":"date-time","nullable":true,"description":"결제 취소 일시."},"cancels":{"type":"array","items":{"$ref":"#/components/schemas/IPaymentCancelHistory"},"description":"결제 취소 내역 리스트."}},"nullable":false,"required":["id","vendor_code","vendor","source","data","currency","price","refund","webhook_url","created_at","paid_at","cancelled_at","cancels"],"description":"토스 페이먼츠로부터의 결제 내역."},"IPaymentVendortoss.payments":{"type":"object","properties":{"code":{"type":"string","enum":["toss.payments"],"description":"벤더사 식별자 코드.\n\n아임포트의 경우에는 `iamport` 를, 토스의 경우에는 `toss.payments` 를 적어주면 된다."},"store_id":{"type":"string","description":"벤더사에 등록한 스토어 ID.\n\n결제 PG 사들은 서비스 주소가 다르거나, 또는 동일한 서비스이되 연결되는 백엔드 서버\n주소가 다르거든, 각기 다른 스토어 계정을 신청해 사용하라고 한다. 이는 요즘같이 MSA\n(Micro Service Architecture) 가 대세인 시대에 매우 불합리한 방식이기는 하지만, 어쨋든\n이러한 이유로 인하여, 한 회사 내지 단체가 복수의 스토어 ID 를 가지는 경우가 왕왕\n있다.\n\n때문에 `payments-server` 는, {@link IPaymentHistory 결제 내역}을 발행하거나\n{@link IPaymentReservation 간편 결제 수단}을 등록할 때 모두, 사용된 스토어의 ID\n를 반드시 기재하도록 하고 있다."},"uid":{"type":"string","description":"벤더사로부터 발급받은 식별자 번호.\n\n결제 PG 사들이 제공하는 팝업창을 이용하여 결제를 진행하거나 혹은 간편 결제 수단을\n등록하거든, 결제 PG 사들은 해당 건에 대하여 별도의 식별자 번호를 발급한다.\n`IPaymentVendor.uid` 는 이처럼 결제 PG 사들이 발급해 준 식별자 번호를 기재하는\n속성이다.\n\n단 예외가 하나 있어, 아임포트는 간편 결제 카드 등록 건에 대하여 별도의 식별자 번호를\n부여하지 않고, 귀하의 서비스에서 발급해 준 ID 를 그대로 사용한다. 때문에 아임포트를\n통한 간편 결제 카드 등록의 건만 예외적으로, `IPaymentVendor.uid` 에\n{@link IPaymentSource.id } 를 동일하게 할당해주어야 한다."}},"nullable":false,"required":["code","store_id","uid"],"description":"벤더사 정보.\n\n`IPaymentVendor` 결제 PG 벤더사에 관련된 정보를 형상화한 자료구조 인터페이스이다."},"ITossPayment":{"oneOf":[{"$ref":"#/components/schemas/ITossCardPayment"},{"$ref":"#/components/schemas/ITossGiftCertificatePayment"},{"$ref":"#/components/schemas/ITossMobilePhonePayment"},{"$ref":"#/components/schemas/ITossTransferPayment"},{"$ref":"#/components/schemas/ITossVirtualAccountPayment"}],"description":"결제 정보.\n\n`ITossPayment` 는 토스 페이먼츠의 결제 정보를 형상화한 자료구조이자 유니언 타입의\n인터페이스로써, if condition 을 통하여 method 값을 특정하면, 파생 타입이 자동으로\n지정된다.\n\n```typescript\nif (payment.method === \"카드\")\n    payment.card; // payment be ITossCardPayment\n```"},"ITossCardPayment":{"type":"object","properties":{"card":{"$ref":"#/components/schemas/ITossCardPayment.ICard","description":"카드 정보."},"discount":{"$ref":"#/components/schemas/ITossCardPayment.IDiscount.Nullable","description":"카드사의 즉시 할인 프로모션 정보."},"easyPay":{"type":"string","enum":["토스결제","페이코","삼성페이"],"nullable":true,"description":"간편결제로 결제한 경우 간편결제 타입 정보."},"method":{"type":"string","enum":["카드"],"description":"결제 수단."},"type":{"type":"string","enum":["NORMAL","BILLING"],"description":"결제 타입.\n\n  - NORMAL: 일반 결제\n  - BILLING: 미리 등록한 카드에 의한 간편 결제."},"status":{"type":"string","enum":["READY","IN_PROGRESS","WAITING_FOR_DEPOSIT","DONE","CANCELED","PARTIAL_CANCELED","ABORTED","EXPIRED"],"description":"결제 상태.\n\n  - READY\n  - IN_PROGRESS\n  - WAITING_FOR_DEPOSIT\n  - DONE\n  - CANCELED\n  - PARTIAL_CANCELED\n  - ABORTED\n  - EXPIRED"},"mId":{"type":"string","description":"가맹점 ID.\n\n현재 tosspayments 가 쓰임."},"version":{"type":"string","description":"사용 중인 토스 페이먼츠 API 의 버전."},"paymentKey":{"type":"string","description":"결제 내역의 식별자 번호."},"orderId":{"type":"string","description":"주문 식별자 키.\n\n토스 페이먼츠가 아닌, 이를 이용하는 서비스에서 자체적으로 관리하는 식별자 키."},"transactionKey":{"type":"string","description":"거래 건에 대한 고유한 키 값.\n\n{@link paymentKey } 와 달리, 이를 사용할 일은 없더라."},"orderName":{"type":"string","description":"주문 이름.\n\n토스 페이먼츠가 아닌, 이를 이용하는 서비스에서 발급한 주문명."},"currency":{"type":"string","description":"화폐 단위.\n\n현재 토스 페이먼츠는 KRW 만 사용 가능."},"totalAmount":{"type":"number","description":"총 결제 금액."},"balanceAmount":{"type":"number","description":"취소할 수 있는 금액."},"suppliedAmount":{"type":"number","description":"공급가액."},"taxFreeAmount":{"type":"number","description":"면세액."},"vat":{"type":"number","description":"부가세."},"useEscrow":{"type":"boolean","description":"에스크로 사용 여부."},"cultureExpense":{"type":"boolean","description":"문화비 지출 여부.\n\n도석입, 공연 티켓, 박물관/미술관 입장권 등."},"requestedAt":{"type":"string","format":"date-time","description":"결제 요청 일시."},"approvedAt":{"type":"string","format":"date-time","nullable":true,"description":"결제 승인 일시."},"cancels":{"type":"array","items":{"$ref":"#/components/schemas/ITossPaymentCancel"},"nullable":true,"description":"결제 취소 내역."},"cashReceipt":{"$ref":"#/components/schemas/ITossCashReceipt.ISummary.Nullable","description":"현금 영수증 정보."}},"nullable":false,"required":["card","discount","easyPay","method","type","status","mId","version","paymentKey","orderId","transactionKey","orderName","currency","totalAmount","balanceAmount","suppliedAmount","taxFreeAmount","vat","useEscrow","cultureExpense","requestedAt","approvedAt","cancels","cashReceipt"],"description":"카드 결제 정보."},"ITossCardPayment.ICard":{"type":"object","properties":{"company":{"type":"string","description":"카드사 이름."},"number":{"type":"string","pattern":"[0-9]{16}","description":"카드 번호."},"installmentPlanMonths":{"type":"number","description":"할부 개월 수."},"isInterestFree":{"type":"boolean","description":"무이자 할부 적용 여부."},"approveNo":{"type":"string","description":"승인 번호."},"useCardPoint":{"type":"boolean","enum":[false],"description":"카드 포인트 사용 여부."},"cardType":{"type":"string","enum":["신용","체크","기프트"],"description":"카드 타입."},"ownerType":{"type":"string","enum":["개인","법인"],"description":"카드의 소유자 타입."},"acquireStatus":{"type":"string","enum":["READY","CANCELED","REQUESTED","COMPLETED","CANCEL_REQUESTED"],"description":"카드 결제의 매입 상태.\n\n - READY: 매입 대기\n - REQUESTED: 매입 요청됨\n - COMPLETED: 매입 완료\n - CANCEL_REQUESTED: 매입 취소 요청됨\n - CANCELD: 매입 취소됨"},"receiptUrl":{"type":"string","format":"url","description":"영수증 URL."}},"nullable":false,"required":["company","number","installmentPlanMonths","isInterestFree","approveNo","useCardPoint","cardType","ownerType","acquireStatus","receiptUrl"],"description":"카드 정보."},"ITossCardPayment.IDiscount.Nullable":{"type":"object","properties":{"amount":{"type":"number","description":"카드사의 즉시 할인 프로모션을 적용한 금액."}},"nullable":true,"required":["amount"],"description":"카드사의 즉시 할인 프로모션 정보."},"ITossPaymentCancel":{"type":"object","properties":{"cancelAmount":{"type":"number","description":"취소 총액."},"cancelReason":{"type":"string","description":"취소 사유."},"taxFreeAmount":{"type":"number","description":"면세 처리된 금액."},"taxAmount":{"type":"number","description":"과세 처리된 금액."},"refundableAmount":{"type":"number","description":"결제 취소 후 환불 가능 잔액."},"canceledAt":{"type":"string","format":"date-time","description":"취소 일시."}},"nullable":false,"required":["cancelAmount","cancelReason","taxFreeAmount","taxAmount","refundableAmount","canceledAt"],"description":"결제 취소 정보."},"ITossCashReceipt.ISummary.Nullable":{"type":"object","properties":{"type":{"$ref":"#/components/schemas/ITossCashReceipt.Type","description":"현금 영수증의 종류."},"amount":{"type":"number","description":"현금 영수증 처리된 금액."},"taxFreeAmount":{"type":"number","description":"면세 처리된 금액."},"issueNumber":{"type":"string","description":"현금영수증 발급번호."},"receiptUrl":{"type":"string","description":"현금영수증 조회 페이지 주소."}},"nullable":true,"required":["type","amount","taxFreeAmount","issueNumber","receiptUrl"],"description":"현금 영수증 요약 정보."},"ITossCashReceipt.Type":{"type":"string","enum":["소득공제","지출증빙"],"description":"현금 영수증의 종류."},"ITossGiftCertificatePayment":{"type":"object","properties":{"giftCertificate":{"$ref":"#/components/schemas/ITossGiftCertificatePayment.IGiftCertificate","description":"상품권 정보."},"method":{"type":"string","enum":["상품권"],"description":"결제 수단."},"type":{"type":"string","enum":["NORMAL"],"description":"결제 타입.\n\n  - NORMAL: 일반 결제\n  - BILLING: 미리 등록한 카드에 의한 간편 결제."},"status":{"type":"string","enum":["READY","IN_PROGRESS","WAITING_FOR_DEPOSIT","DONE","CANCELED","PARTIAL_CANCELED","ABORTED","EXPIRED"],"description":"결제 상태.\n\n  - READY\n  - IN_PROGRESS\n  - WAITING_FOR_DEPOSIT\n  - DONE\n  - CANCELED\n  - PARTIAL_CANCELED\n  - ABORTED\n  - EXPIRED"},"mId":{"type":"string","description":"가맹점 ID.\n\n현재 tosspayments 가 쓰임."},"version":{"type":"string","description":"사용 중인 토스 페이먼츠 API 의 버전."},"paymentKey":{"type":"string","description":"결제 내역의 식별자 번호."},"orderId":{"type":"string","description":"주문 식별자 키.\n\n토스 페이먼츠가 아닌, 이를 이용하는 서비스에서 자체적으로 관리하는 식별자 키."},"transactionKey":{"type":"string","description":"거래 건에 대한 고유한 키 값.\n\n{@link paymentKey } 와 달리, 이를 사용할 일은 없더라."},"orderName":{"type":"string","description":"주문 이름.\n\n토스 페이먼츠가 아닌, 이를 이용하는 서비스에서 발급한 주문명."},"currency":{"type":"string","description":"화폐 단위.\n\n현재 토스 페이먼츠는 KRW 만 사용 가능."},"totalAmount":{"type":"number","description":"총 결제 금액."},"balanceAmount":{"type":"number","description":"취소할 수 있는 금액."},"suppliedAmount":{"type":"number","description":"공급가액."},"taxFreeAmount":{"type":"number","description":"면세액."},"vat":{"type":"number","description":"부가세."},"useEscrow":{"type":"boolean","description":"에스크로 사용 여부."},"cultureExpense":{"type":"boolean","description":"문화비 지출 여부.\n\n도석입, 공연 티켓, 박물관/미술관 입장권 등."},"requestedAt":{"type":"string","format":"date-time","description":"결제 요청 일시."},"approvedAt":{"type":"string","format":"date-time","nullable":true,"description":"결제 승인 일시."},"cancels":{"type":"array","items":{"$ref":"#/components/schemas/ITossPaymentCancel"},"nullable":true,"description":"결제 취소 내역."},"cashReceipt":{"$ref":"#/components/schemas/ITossCashReceipt.ISummary.Nullable","description":"현금 영수증 정보."}},"nullable":false,"required":["giftCertificate","method","type","status","mId","version","paymentKey","orderId","transactionKey","orderName","currency","totalAmount","balanceAmount","suppliedAmount","taxFreeAmount","vat","useEscrow","cultureExpense","requestedAt","approvedAt","cancels","cashReceipt"],"description":"상품권 결제 정보."},"ITossGiftCertificatePayment.IGiftCertificate":{"type":"object","properties":{"approveNo":{"type":"string","description":"승인 번호."},"settlementStatus":{"type":"string","enum":["COMPLETE","INCOMPLETE"],"description":"정산 상태."}},"nullable":false,"required":["approveNo","settlementStatus"],"description":"상품권 정보."},"ITossMobilePhonePayment":{"type":"object","properties":{"mobilePhone":{"$ref":"#/components/schemas/ITossMobilePhonePayment.IMobilePhone","description":"휴대폰 정보."},"method":{"type":"string","enum":["휴대폰"],"description":"결제 수단."},"type":{"type":"string","enum":["NORMAL"],"description":"결제 타입.\n\n  - NORMAL: 일반 결제\n  - BILLING: 미리 등록한 카드에 의한 간편 결제."},"status":{"type":"string","enum":["READY","IN_PROGRESS","WAITING_FOR_DEPOSIT","DONE","CANCELED","PARTIAL_CANCELED","ABORTED","EXPIRED"],"description":"결제 상태.\n\n  - READY\n  - IN_PROGRESS\n  - WAITING_FOR_DEPOSIT\n  - DONE\n  - CANCELED\n  - PARTIAL_CANCELED\n  - ABORTED\n  - EXPIRED"},"mId":{"type":"string","description":"가맹점 ID.\n\n현재 tosspayments 가 쓰임."},"version":{"type":"string","description":"사용 중인 토스 페이먼츠 API 의 버전."},"paymentKey":{"type":"string","description":"결제 내역의 식별자 번호."},"orderId":{"type":"string","description":"주문 식별자 키.\n\n토스 페이먼츠가 아닌, 이를 이용하는 서비스에서 자체적으로 관리하는 식별자 키."},"transactionKey":{"type":"string","description":"거래 건에 대한 고유한 키 값.\n\n{@link paymentKey } 와 달리, 이를 사용할 일은 없더라."},"orderName":{"type":"string","description":"주문 이름.\n\n토스 페이먼츠가 아닌, 이를 이용하는 서비스에서 발급한 주문명."},"currency":{"type":"string","description":"화폐 단위.\n\n현재 토스 페이먼츠는 KRW 만 사용 가능."},"totalAmount":{"type":"number","description":"총 결제 금액."},"balanceAmount":{"type":"number","description":"취소할 수 있는 금액."},"suppliedAmount":{"type":"number","description":"공급가액."},"taxFreeAmount":{"type":"number","description":"면세액."},"vat":{"type":"number","description":"부가세."},"useEscrow":{"type":"boolean","description":"에스크로 사용 여부."},"cultureExpense":{"type":"boolean","description":"문화비 지출 여부.\n\n도석입, 공연 티켓, 박물관/미술관 입장권 등."},"requestedAt":{"type":"string","format":"date-time","description":"결제 요청 일시."},"approvedAt":{"type":"string","format":"date-time","nullable":true,"description":"결제 승인 일시."},"cancels":{"type":"array","items":{"$ref":"#/components/schemas/ITossPaymentCancel"},"nullable":true,"description":"결제 취소 내역."},"cashReceipt":{"$ref":"#/components/schemas/ITossCashReceipt.ISummary.Nullable","description":"현금 영수증 정보."}},"nullable":false,"required":["mobilePhone","method","type","status","mId","version","paymentKey","orderId","transactionKey","orderName","currency","totalAmount","balanceAmount","suppliedAmount","taxFreeAmount","vat","useEscrow","cultureExpense","requestedAt","approvedAt","cancels","cashReceipt"],"description":"휴대폰 결제 정보."},"ITossMobilePhonePayment.IMobilePhone":{"type":"object","properties":{"carrier":{"type":"string","description":"통신사."},"customerMobilePhone":{"type":"string","description":"고객 휴대폰 번호."},"settlementStatus":{"type":"string","enum":["COMPLETED","INCOMPLETED"],"description":"정산 상태."}},"nullable":false,"required":["carrier","customerMobilePhone","settlementStatus"],"description":"휴대폰 정보."},"ITossTransferPayment":{"type":"object","properties":{"transfer":{"$ref":"#/components/schemas/ITossTransferPayment.ITransfer","description":"계좌 이체 정보."},"method":{"type":"string","enum":["계좌이체"],"description":"결제 수단."},"type":{"type":"string","enum":["NORMAL"],"description":"결제 타입.\n\n  - NORMAL: 일반 결제\n  - BILLING: 미리 등록한 카드에 의한 간편 결제."},"status":{"type":"string","enum":["READY","IN_PROGRESS","WAITING_FOR_DEPOSIT","DONE","CANCELED","PARTIAL_CANCELED","ABORTED","EXPIRED"],"description":"결제 상태.\n\n  - READY\n  - IN_PROGRESS\n  - WAITING_FOR_DEPOSIT\n  - DONE\n  - CANCELED\n  - PARTIAL_CANCELED\n  - ABORTED\n  - EXPIRED"},"mId":{"type":"string","description":"가맹점 ID.\n\n현재 tosspayments 가 쓰임."},"version":{"type":"string","description":"사용 중인 토스 페이먼츠 API 의 버전."},"paymentKey":{"type":"string","description":"결제 내역의 식별자 번호."},"orderId":{"type":"string","description":"주문 식별자 키.\n\n토스 페이먼츠가 아닌, 이를 이용하는 서비스에서 자체적으로 관리하는 식별자 키."},"transactionKey":{"type":"string","description":"거래 건에 대한 고유한 키 값.\n\n{@link paymentKey } 와 달리, 이를 사용할 일은 없더라."},"orderName":{"type":"string","description":"주문 이름.\n\n토스 페이먼츠가 아닌, 이를 이용하는 서비스에서 발급한 주문명."},"currency":{"type":"string","description":"화폐 단위.\n\n현재 토스 페이먼츠는 KRW 만 사용 가능."},"totalAmount":{"type":"number","description":"총 결제 금액."},"balanceAmount":{"type":"number","description":"취소할 수 있는 금액."},"suppliedAmount":{"type":"number","description":"공급가액."},"taxFreeAmount":{"type":"number","description":"면세액."},"vat":{"type":"number","description":"부가세."},"useEscrow":{"type":"boolean","description":"에스크로 사용 여부."},"cultureExpense":{"type":"boolean","description":"문화비 지출 여부.\n\n도석입, 공연 티켓, 박물관/미술관 입장권 등."},"requestedAt":{"type":"string","format":"date-time","description":"결제 요청 일시."},"approvedAt":{"type":"string","format":"date-time","nullable":true,"description":"결제 승인 일시."},"cancels":{"type":"array","items":{"$ref":"#/components/schemas/ITossPaymentCancel"},"nullable":true,"description":"결제 취소 내역."},"cashReceipt":{"$ref":"#/components/schemas/ITossCashReceipt.ISummary.Nullable","description":"현금 영수증 정보."}},"nullable":false,"required":["transfer","method","type","status","mId","version","paymentKey","orderId","transactionKey","orderName","currency","totalAmount","balanceAmount","suppliedAmount","taxFreeAmount","vat","useEscrow","cultureExpense","requestedAt","approvedAt","cancels","cashReceipt"],"description":"계좌 이체 결제 정보."},"ITossTransferPayment.ITransfer":{"type":"object","properties":{"bank":{"type":"string","description":"은행명."},"settlementStatus":{"type":"string","enum":["COMPLETED","INCOMPLETED"],"description":"이체 상태."}},"nullable":false,"required":["bank","settlementStatus"],"description":"계좌 이체 정보."},"ITossVirtualAccountPayment":{"type":"object","properties":{"secret":{"type":"string","description":"가상 계좌로 결제할 때 전달되는 입금 콜백을 검증하기 위한 값."},"virtualAccount":{"$ref":"#/components/schemas/ITossVirtualAccountPayment.IVirtualAccount","description":"가상 계좌 정보."},"method":{"type":"string","enum":["가상계좌"],"description":"결제 수단."},"type":{"type":"string","enum":["NORMAL"],"description":"결제 타입.\n\n  - NORMAL: 일반 결제\n  - BILLING: 미리 등록한 카드에 의한 간편 결제."},"status":{"type":"string","enum":["READY","IN_PROGRESS","WAITING_FOR_DEPOSIT","DONE","CANCELED","PARTIAL_CANCELED","ABORTED","EXPIRED"],"description":"결제 상태.\n\n  - READY\n  - IN_PROGRESS\n  - WAITING_FOR_DEPOSIT\n  - DONE\n  - CANCELED\n  - PARTIAL_CANCELED\n  - ABORTED\n  - EXPIRED"},"mId":{"type":"string","description":"가맹점 ID.\n\n현재 tosspayments 가 쓰임."},"version":{"type":"string","description":"사용 중인 토스 페이먼츠 API 의 버전."},"paymentKey":{"type":"string","description":"결제 내역의 식별자 번호."},"orderId":{"type":"string","description":"주문 식별자 키.\n\n토스 페이먼츠가 아닌, 이를 이용하는 서비스에서 자체적으로 관리하는 식별자 키."},"transactionKey":{"type":"string","description":"거래 건에 대한 고유한 키 값.\n\n{@link paymentKey } 와 달리, 이를 사용할 일은 없더라."},"orderName":{"type":"string","description":"주문 이름.\n\n토스 페이먼츠가 아닌, 이를 이용하는 서비스에서 발급한 주문명."},"currency":{"type":"string","description":"화폐 단위.\n\n현재 토스 페이먼츠는 KRW 만 사용 가능."},"totalAmount":{"type":"number","description":"총 결제 금액."},"balanceAmount":{"type":"number","description":"취소할 수 있는 금액."},"suppliedAmount":{"type":"number","description":"공급가액."},"taxFreeAmount":{"type":"number","description":"면세액."},"vat":{"type":"number","description":"부가세."},"useEscrow":{"type":"boolean","description":"에스크로 사용 여부."},"cultureExpense":{"type":"boolean","description":"문화비 지출 여부.\n\n도석입, 공연 티켓, 박물관/미술관 입장권 등."},"requestedAt":{"type":"string","format":"date-time","description":"결제 요청 일시."},"approvedAt":{"type":"string","format":"date-time","nullable":true,"description":"결제 승인 일시."},"cancels":{"type":"array","items":{"$ref":"#/components/schemas/ITossPaymentCancel"},"nullable":true,"description":"결제 취소 내역."},"cashReceipt":{"$ref":"#/components/schemas/ITossCashReceipt.ISummary.Nullable","description":"현금 영수증 정보."}},"nullable":false,"required":["secret","virtualAccount","method","type","status","mId","version","paymentKey","orderId","transactionKey","orderName","currency","totalAmount","balanceAmount","suppliedAmount","taxFreeAmount","vat","useEscrow","cultureExpense","requestedAt","approvedAt","cancels","cashReceipt"],"description":"가상 계좌 결제 정보."},"ITossVirtualAccountPayment.IVirtualAccount":{"type":"object","properties":{"accountNumber":{"type":"string","description":"계좌 번호."},"accountType":{"type":"string","enum":["일반","고정"],"description":"가상 계좌 타입."},"bank":{"type":"string","description":"은행명."},"customerName":{"type":"string","description":"고객 이름."},"dueDate":{"type":"string","format":"date","description":"입금 기한."},"expired":{"type":"boolean","description":"가상 계좌 만료 여부."},"settlementStatus":{"type":"string","enum":["COMPLETED","INCOMPLETED"],"description":"정산 상태."},"refundStatus":{"type":"string","enum":["COMPLETED","NONE","FAILED","PENDING","PARTIAL_FAILED"],"description":"환불 처리 상태.\n\n - NONE: 해당 없음\n - FAILED: 환불 실패\n - PENDING: 환불 처리중\n - PARTIAL_FAILED: 부분 환불 실패\n - COMPLETED: 환불 완료"}},"nullable":false,"required":["accountNumber","accountType","bank","customerName","dueDate","expired","settlementStatus","refundStatus"],"description":"가상 계좌 정보."},"IPaymentSource.IPassword":{"type":"object","properties":{"password":{"type":"string","description":"레코드 조회를 위한 비밀번호 입력."}},"nullable":false,"required":["password"],"description":"비밀번호 입력 정보."},"IPaymentHistory.ICreate":{"type":"object","properties":{"vendor":{"$ref":"#/components/schemas/IPaymentVendoriamporttoss.payments","description":"벤더사 정보"},"source":{"$ref":"#/components/schemas/IPaymentSource","description":"결제의 근간이 된 원천 레코드 정보."},"price":{"type":"number","minimum":0,"description":"결제되어야 할 총액.\n\n실 결제금액과 비교하여 이와 다를 시, 422 에러가 리턴됨."},"password":{"type":"string","description":"레코드 열람에 사용할 비밀번호 설정."},"webhook_url":{"type":"string","format":"url","description":"결제 정보가 갱신되었을 때, 이를 수신할 URL"}},"nullable":false,"required":["vendor","source","price","password","webhook_url"],"description":"결제 입력 정보.\n\nSDK 에서 받은 데이터를 취합하여 결제 진행 상황을 서버에 알려준다."},"IPaymentVendoriamporttoss.payments":{"type":"object","properties":{"code":{"type":"string","enum":["iamport","toss.payments"],"description":"벤더사 식별자 코드.\n\n아임포트의 경우에는 `iamport` 를, 토스의 경우에는 `toss.payments` 를 적어주면 된다."},"store_id":{"type":"string","description":"벤더사에 등록한 스토어 ID.\n\n결제 PG 사들은 서비스 주소가 다르거나, 또는 동일한 서비스이되 연결되는 백엔드 서버\n주소가 다르거든, 각기 다른 스토어 계정을 신청해 사용하라고 한다. 이는 요즘같이 MSA\n(Micro Service Architecture) 가 대세인 시대에 매우 불합리한 방식이기는 하지만, 어쨋든\n이러한 이유로 인하여, 한 회사 내지 단체가 복수의 스토어 ID 를 가지는 경우가 왕왕\n있다.\n\n때문에 `payments-server` 는, {@link IPaymentHistory 결제 내역}을 발행하거나\n{@link IPaymentReservation 간편 결제 수단}을 등록할 때 모두, 사용된 스토어의 ID\n를 반드시 기재하도록 하고 있다."},"uid":{"type":"string","description":"벤더사로부터 발급받은 식별자 번호.\n\n결제 PG 사들이 제공하는 팝업창을 이용하여 결제를 진행하거나 혹은 간편 결제 수단을\n등록하거든, 결제 PG 사들은 해당 건에 대하여 별도의 식별자 번호를 발급한다.\n`IPaymentVendor.uid` 는 이처럼 결제 PG 사들이 발급해 준 식별자 번호를 기재하는\n속성이다.\n\n단 예외가 하나 있어, 아임포트는 간편 결제 카드 등록 건에 대하여 별도의 식별자 번호를\n부여하지 않고, 귀하의 서비스에서 발급해 준 ID 를 그대로 사용한다. 때문에 아임포트를\n통한 간편 결제 카드 등록의 건만 예외적으로, `IPaymentVendor.uid` 에\n{@link IPaymentSource.id } 를 동일하게 할당해주어야 한다."}},"nullable":false,"required":["code","store_id","uid"],"description":"벤더사 정보.\n\n`IPaymentVendor` 결제 PG 벤더사에 관련된 정보를 형상화한 자료구조 인터페이스이다."},"IPaymentCancelHistory.ICreate":{"type":"object","properties":{"source":{"$ref":"#/components/schemas/IPaymentSource","description":"결제의 근간이 된 원천 레코드 정보."},"password":{"type":"string","description":"결제 이력에 대한 비밀번호 입력."},"price":{"type":"number","minimum":0,"description":"환불 금액."},"reason":{"type":"string","description":"결제 취소 사유."},"account":{"$ref":"#/components/schemas/IPaymentCancelHistory.IBankAccount.Nullable","description":"환불 계좌 정보.\n\n가상 계좌로 입금한 경우, 결제 취소시, 이를 환불받을 계좌가 필요함.\n\n단, 이 정보는 본 결제 시스템에 저장하지 아니함."}},"nullable":false,"required":["source","password","price","reason","account"],"description":"결제 취소 입력 정보."},"IPaymentCancelHistory.IBankAccount.Nullable":{"type":"object","properties":{"bank":{"type":"string","description":"은행 이름."},"account":{"type":"string","description":"계좌번호."},"holder":{"type":"string","description":"예금주."},"mobile":{"type":"string","description":"연락처, 핸드폰 번호."}},"nullable":true,"required":["bank","account","holder","mobile"],"description":"은행 계좌 정보.\n\n가상 계좌로 입금한 경우, 결제 취소시, 이를 환불받을 계좌가 필요함.\n\n단, 이 정보는 본 결제 시스템에 저장하지 아니함."},"IPaymentReservation":{"oneOf":[{"$ref":"#/components/schemas/IPaymentReservation.IamportType"},{"$ref":"#/components/schemas/IPaymentReservation.TossType"}],"description":"간편 결제 수단 정보.\n\n`IPaymentReservation` 은 간편 결제 수단을 형상화한 자료구조이자 유니언 타입의\n인터페이스로써, if condition 을 통하여 {@link IPaymentReservation.vendor_code } 값을\n특정하면, 파생 타입이 자동으로 다운 캐스팅 된다.\n\n```typescript\nif (history.vendor_code === \"toss.payments\")\n    history.data.billingKey; // history.data be ITossBilling\n```"},"IPaymentReservation.IamportType":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"Primary Key."},"vendor_code":{"type":"string","enum":["iamport"],"description":"벤더사 코드.\n\n{@link IPaymentVendor.code }와 완전히 동일한 값이되, 단지 union type\nspecialization 을 위해 중복 표기하였을 뿐이다. If else condition 을 통하여\n{@link IPaymentReservation.data }의 타입을 특정할 수 있다."},"vendor":{"$ref":"#/components/schemas/IPaymentVendoriamport","description":"벤더사."},"source":{"$ref":"#/components/schemas/IPaymentSource","description":"대상 액터의 참조 정보."},"title":{"type":"string","description":"제목."},"data":{"$ref":"#/components/schemas/IIamportSubscription","description":"벤더사 데이터."},"created_at":{"type":"string","format":"date-time","description":"레코드 생성 일시."}},"nullable":false,"required":["id","vendor_code","vendor","source","title","data","created_at"],"description":"아임 포트의 간편 결제 카드 정보."},"IIamportSubscription":{"type":"object","properties":{"pg_provider":{"type":"string"},"pg_id":{"type":"string"},"card_name":{"type":"string"},"card_code":{"type":"string"},"card_number":{"type":"string"},"card_type":{"type":"string"},"customer_name":{"type":"string","nullable":true},"customer_tel":{"type":"string","nullable":true},"customer_email":{"type":"string","nullable":true},"customer_addr":{"type":"string","nullable":true},"customer_postcode":{"type":"string","nullable":true},"inserted":{"type":"number"},"updated":{"type":"number"},"customer_uid":{"type":"string","description":"고객 식별자 키.\n\n아임포트가 아닌, 이를 이용하는 서비스에서 자체적으로 관리하는 식별자 키.\n\n다만 고객이라기보다 실제로는 카드의 식별자 키로 써야함."}},"nullable":false,"required":["pg_provider","pg_id","card_name","card_code","card_number","card_type","customer_name","customer_tel","customer_email","customer_addr","customer_postcode","inserted","updated","customer_uid"],"description":"간편 결제 카드 정보."},"IPaymentReservation.TossType":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"Primary Key."},"vendor_code":{"type":"string","enum":["toss.payments"],"description":"벤더사 코드.\n\n{@link IPaymentVendor.code }와 완전히 동일한 값이되, 단지 union type\nspecialization 을 위해 중복 표기하였을 뿐이다. If else condition 을 통하여\n{@link IPaymentReservation.data }의 타입을 특정할 수 있다."},"vendor":{"$ref":"#/components/schemas/IPaymentVendortoss.payments","description":"벤더사."},"source":{"$ref":"#/components/schemas/IPaymentSource","description":"대상 액터의 참조 정보."},"title":{"type":"string","description":"제목."},"data":{"$ref":"#/components/schemas/ITossBilling","description":"벤더사 데이터."},"created_at":{"type":"string","format":"date-time","description":"레코드 생성 일시."}},"nullable":false,"required":["id","vendor_code","vendor","source","title","data","created_at"],"description":"토스의 간편 결제 수단 정보."},"ITossBilling":{"type":"object","properties":{"mId":{"type":"string","description":"가맹점 ID.\n\n현재 tosspayments 가 쓰임."},"billingKey":{"type":"string","description":"{@link ITossBilling } 의 식별자 키."},"method":{"type":"string","enum":["카드"],"description":"결제 수단."},"cardCompany":{"type":"string","description":"카드사 이름."},"cardNumber":{"type":"string","pattern":"[0-9]{16}","description":"카드 번호."},"authenticatedAt":{"type":"string","format":"date-time","description":"인증 일시."},"customerKey":{"type":"string","description":"고객 식별자 키.\n\n토스 페이먼츠가 아닌, 이를 이용하는 서비스에서 자체적으로 관리하는 식별자 키."}},"nullable":false,"required":["mId","billingKey","method","cardCompany","cardNumber","authenticatedAt","customerKey"],"description":"간편 결제 등록 수단 정보.\n\n`ITossBilling` 은 간편 결제 등록 수단을 형상화한 자료구조 인터페이스로써, 고객이 자신의\n신용 카드를 서버에 등록해두고, 매번 결제가 필요할 때마다 카드 정보를 반복 입려하는 일\n없이 간편하게 결제를 진행하고자 할 때 사용한다."},"IPaymentReservation.ICreate":{"type":"object","properties":{"vendor":{"$ref":"#/components/schemas/IPaymentVendorIPaymentVendor.Code","description":"벤더사 정보."},"source":{"$ref":"#/components/schemas/IPaymentSource","description":"원천 레코드 정보."},"title":{"type":"string","description":"제목"},"password":{"type":"string","description":"간편결제 비밀번호.\n\n주의할 점은 카드 비밀번호가 아니라는 것."}},"nullable":false,"required":["vendor","source","title","password"],"description":"간편 결제 수단 등록 정보.\n\n결제사의 팝업 창로부터 전달받은 식별자 정보를 취합하여 전달한다.\n\n참고로 아임포트의 경우 간편 결제로 등록한 카드에 자체 식별자 번호를 부여하지 않는다.\n따라서 귀하의 서비스가 발행한 식별자 ID 가 곧, 해당 간편 결제 수단의 유일무이한\n식별자ㅏ 되니, 이를 {@link IPaymentVendor.uid } 와 {@link IPaymentSource.id } 에\n모두 동일하게 할당해주면 된다."},"IPaymentVendorIPaymentVendor.Code":{"type":"object","properties":{"code":{"type":"string","enum":["iamport","toss.payments"],"description":"벤더사 식별자 코드.\n\n아임포트의 경우에는 `iamport` 를, 토스의 경우에는 `toss.payments` 를 적어주면 된다."},"store_id":{"type":"string","description":"벤더사에 등록한 스토어 ID.\n\n결제 PG 사들은 서비스 주소가 다르거나, 또는 동일한 서비스이되 연결되는 백엔드 서버\n주소가 다르거든, 각기 다른 스토어 계정을 신청해 사용하라고 한다. 이는 요즘같이 MSA\n(Micro Service Architecture) 가 대세인 시대에 매우 불합리한 방식이기는 하지만, 어쨋든\n이러한 이유로 인하여, 한 회사 내지 단체가 복수의 스토어 ID 를 가지는 경우가 왕왕\n있다.\n\n때문에 `payments-server` 는, {@link IPaymentHistory 결제 내역}을 발행하거나\n{@link IPaymentReservation 간편 결제 수단}을 등록할 때 모두, 사용된 스토어의 ID\n를 반드시 기재하도록 하고 있다."},"uid":{"type":"string","description":"벤더사로부터 발급받은 식별자 번호.\n\n결제 PG 사들이 제공하는 팝업창을 이용하여 결제를 진행하거나 혹은 간편 결제 수단을\n등록하거든, 결제 PG 사들은 해당 건에 대하여 별도의 식별자 번호를 발급한다.\n`IPaymentVendor.uid` 는 이처럼 결제 PG 사들이 발급해 준 식별자 번호를 기재하는\n속성이다.\n\n단 예외가 하나 있어, 아임포트는 간편 결제 카드 등록 건에 대하여 별도의 식별자 번호를\n부여하지 않고, 귀하의 서비스에서 발급해 준 ID 를 그대로 사용한다. 때문에 아임포트를\n통한 간편 결제 카드 등록의 건만 예외적으로, `IPaymentVendor.uid` 에\n{@link IPaymentSource.id } 를 동일하게 할당해주어야 한다."}},"nullable":false,"required":["code","store_id","uid"],"description":"벤더사 정보.\n\n`IPaymentVendor` 결제 PG 벤더사에 관련된 정보를 형상화한 자료구조 인터페이스이다."},"IIamportPayment.IWebhook":{"type":"object","properties":{"imp_uid":{"type":"string","description":"결제 정보 {@link IIamportPayment } 의 식별자 키."},"merchant_uid":{"type":"string","description":"주문 식별자 키.\n\n아임포트 서버가 아닌, 이를 사용하는 서비스가 자체적으로 발급하고 관리한다."},"status":{"type":"string","enum":["paid","ready","failed","cancelled"],"description":"현재 상태."}},"nullable":false,"required":["imp_uid","merchant_uid","status"],"description":"웹훅 데이터."}}}}